<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Festival de Parintins: A Grandiosidade do Caprichoso</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@700&family=Open+Sans:wght@400;600&family=Dancing+Script:wght@700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Royal Azure & Golden Gleam Enhanced -->
    <!-- Application Structure Plan: The SPA is now significantly longer and features a modular, section-based layout designed for a richer narrative flow. The header is an immersive intro. Subsequent sections alternate visual and text prominence, with dedicated areas for "Essence," "Characters," "Arena Spectacle," "Curiosities," and "History." The LLM-powered verse generator remains a key interactive element. The content is organized to build a comprehensive story of Caprichoso, moving from its core identity to its grand manifestations and historical journey. The layout utilizes responsive grid and flexbox patterns to create visual interest and clear content separation, ensuring readability and user engagement across devices. The animated background is enhanced for a more dynamic feel. -->
    <!-- Visualization & Content Choices: The animated background is intensified with more particles and a slight "star-like" twinkle effect on the canvas, symbolizing the Caprichoso star and the festive atmosphere (Method: JS Canvas API, enhanced). Textual content is broken into smaller, digestible blocks with engaging headers and sub-sections (Method: HTML/Tailwind). Interactive "Curiosity Cards" (Vanilla JS toggle) are retained. New sections introduce "Characters" (simple HTML cards with icons) and "Arena Spectacle" (descriptive text with visual emphasis). The "Gerador de Versos de Toada" (Gemini API, Vanilla JS) is central for dynamic content. Placeholder images (placehold.co) are used for key visual elements, ensuring responsive sizing within their containers. NO SVG/Mermaid confirmed. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            background-color: #F8F8F8; /* Light background */
            color: #333333;
            font-family: 'Open Sans', sans-serif;
            overflow-x: hidden; /* Prevent horizontal scrolling */
        }
        .font-title {
            font-family: 'Cinzel', serif;
            color: #00008B; /* Royal Blue */
        }
        .font-accent {
            font-family: 'Dancing Script', cursive;
            color: #DAA520; /* Goldenrod */
        }
        #animated-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            pointer-events: none;
            opacity: 0.25; /* Slightly more visible */
        }
        .content-wrapper {
            position: relative;
            z-index: 1;
        }
        .section-header {
            text-align: center;
            margin-bottom: 2.5rem;
        }
        .gradient-text-blue-gold {
            background: linear-gradient(90deg, #00008B, #DAA520, #00008B);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .hover-gold-effect:hover {
            color: #DAA520; /* Goldenrod */
            transition: color 0.3s ease;
        }
        .curiosity-card {
            background-color: rgba(255, 255, 255, 0.8);
            border: 2px solid #00008B;
            border-radius: 1rem;
            padding: 1.5rem;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            cursor: pointer;
        }
        .curiosity-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.15);
        }
        .verse-button {
            background: linear-gradient(45deg, #DAA520, #FFD700); /* Gold */
            color: #00008B; /* Royal Blue */
            border: none;
            border-radius: 9999px; /* Fully rounded */
            padding: 0.75rem 2rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            text-transform: uppercase;
        }
        .verse-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 8px rgba(0, 0, 0, 0.15);
        }
        .verse-button:active {
            transform: translateY(0);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        .fade-in-section {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.8s ease-out, transform 0.8s ease-out;
        }
        .fade-in-section.visible {
            opacity: 1;
            transform: translateY(0);
        }
        .character-card {
            background-color: rgba(255, 255, 255, 0.8);
            border: 1px solid #DAA520;
            border-radius: 0.75rem;
            padding: 1rem;
            text-align: center;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }
        .character-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
    </style>
</head>
<body class="selection:bg-blue-200 selection:text-blue-900">

    <canvas id="animated-canvas"></canvas>

    <div class="content-wrapper">

        <header class="min-h-screen flex flex-col items-center justify-center text-center p-4 bg-gradient-to-br from-blue-900 to-blue-700 text-white shadow-xl">
            <div class="max-w-4xl mx-auto py-16">
                <h1 class="font-title text-4xl md:text-6xl lg:text-7xl mb-4 leading-tight fade-in-section">
                    <span class="gradient-text-blue-gold">O Brilho do Caprichoso</span>
                </h1>
                <p class="font-accent text-3xl md:text-5xl mb-8 fade-in-section" style="transition-delay: 200ms;">
                    A Estrela Guia de Parintins
                </p>
                <p class="text-base md:text-lg text-blue-100 mb-12 fade-in-section" style="transition-delay: 400ms;">
                    Prepare-se para mergulhar na emo√ß√£o, na cor e na tradi√ß√£o do Boi Caprichoso, o guardi√£o da estrela, o touro negro que encanta a Amaz√¥nia.
                </p>
                <div class="text-blue-200 animate-bounce fade-in-section" style="transition-delay: 600ms;">
                    <svg class="w-10 h-10 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                    <p class="mt-2 text-sm">Role para sentir a magia!</p>
                </div>
            </div>
        </header>

        <main class="py-16 md:py-24 bg-gradient-to-b from-white to-blue-50">

            <section class="max-w-6xl mx-auto px-6 mb-16 md:mb-24 fade-in-section">
                <div class="section-header">
                    <h2 class="font-title text-3xl md:text-4xl lg:text-5xl mb-4 gradient-text-blue-gold">A Ess√™ncia do Touro Negro</h2>
                    <p class="text-base md:text-lg max-w-2xl mx-auto text-gray-700">
                        Nesta se√ß√£o, exploraremos os pilares que definem a grandiosidade do Boi Caprichoso. Entenda as suas cores, o s√≠mbolo da estrela e a paix√£o que move a sua na√ß√£o.
                    </p>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-10">
                    <div class="bg-white p-8 rounded-2xl shadow-lg border border-blue-100 flex flex-col items-center text-center hover-gold-effect">
                        <span class="text-6xl mb-4">üîµ‚ö™</span>
                        <h3 class="font-title text-2xl md:text-3xl mb-3 text-blue-800">As Cores da Na√ß√£o</h3>
                        <p class="text-gray-700 leading-relaxed">
                            O azul profundo e o branco imaculado s√£o mais do que cores; s√£o a alma do Caprichoso. O azul representa o c√©u amaz√¥nico, os rios e a vastid√£o da floresta. O branco simboliza a paz, a pureza e a luz da estrela que guia o boi. Juntas, elas pintam a paix√£o de milh√µes.
                        </p>
                    </div>
                    <div class="bg-white p-8 rounded-2xl shadow-lg border border-blue-100 flex flex-col items-center text-center hover-gold-effect">
                        <span class="text-6xl mb-4">‚≠ê</span>
                        <h3 class="font-title text-2xl md:text-3xl mb-3 text-blue-800">A Estrela na Testa</h3>
                        <p class="text-gray-700 leading-relaxed">
                            A estrela azul e branca que adorna a testa do Caprichoso n√£o √© apenas um adere√ßo; √© seu s√≠mbolo m√°ximo. Representa a luz, a liberdade e a for√ßa de um povo que brilha sob o c√©u de Parintins, marcando sua identidade √∫nica e sua conex√£o com o universo.
                        </p>
                    </div>
                </div>
            </section>

            <section class="max-w-6xl mx-auto px-6 mb-16 md:mb-24 fade-in-section">
                <div class="section-header">
                    <h2 class="font-title text-3xl md:text-4xl lg:text-5xl mb-4 gradient-text-blue-gold">Personagens e Figuras M√≠sticas</h2>
                    <p class="text-base md:text-lg max-w-2xl mx-auto text-gray-700">
                        Conhe√ßa os personagens lend√°rios que d√£o vida e magia √†s apresenta√ß√µes do Boi Caprichoso no Bumb√≥dromo.
                    </p>
                </div>
                <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-6">
                    <div class="character-card">
                        <span class="text-4xl mb-2">üßë‚Äçüé§</span>
                        <h4 class="font-title text-lg text-blue-800">Amo do Boi</h4>
                        <p class="text-xs text-gray-600">O poeta que canta e declama as toadas, comandando a apresenta√ß√£o.</p>
                    </div>
                    <div class="character-card">
                        <span class="text-4xl mb-2">üë∏</span>
                        <h4 class="font-title text-lg text-blue-800">Cunh√£-Poranga</h4>
                        <p class="text-xs text-gray-600">A mais bela das tribos, representa a for√ßa e a beleza da mulher ind√≠gena.</p>
                    </div>
                    <div class="character-card">
                        <span class="text-4xl mb-2">üßô‚Äç‚ôÇÔ∏è</span>
                        <h4 class="font-title text-lg text-blue-800">Paj√©</h4>
                        <p class="text-xs text-gray-600">O curandeiro da tribo, figura m√≠stica com poderes ancestrais.</p>
                    </div>
                    <div class="character-card">
                        <span class="text-4xl mb-2">üêé</span>
                        <h4 class="font-title text-lg text-blue-800">Cavalariada</h4>
                        <p class="text-xs text-gray-600">Grupo de cavaleiros que acompanham o boi, representando bravura.</p>
                    </div>
                     <div class="character-card">
                        <span class="text-4xl mb-2">ü•Å</span>
                        <h4 class="font-title text-lg text-blue-800">Marujada</h4>
                        <p class="text-xs text-gray-600">A bateria vibrante do Caprichoso, o cora√ß√£o da festa.</p>
                    </div>
                </div>
            </section>

            <section class="max-w-6xl mx-auto px-6 mb-16 md:mb-24 fade-in-section">
                <div class="section-header">
                    <h2 class="font-title text-3xl md:text-4xl lg:text-5xl mb-4 gradient-text-blue-gold">A Arena e o Espet√°culo</h2>
                    <p class="text-base md:text-lg max-w-2xl mx-auto text-gray-700">
                        O Bumb√≥dromo √© o palco onde a magia acontece. Descubra a grandiosidade das alegorias, a emo√ß√£o das coreografias e a for√ßa da Na√ß√£o Azul e Branca.
                    </p>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-10 items-center">
                    <div class="p-6 bg-white/70 rounded-2xl shadow-lg border border-blue-100">
                        <h3 class="font-title text-2xl text-blue-800 mb-3">O Bumb√≥dromo</h3>
                        <p class="text-gray-700 leading-relaxed mb-4">
                            Com sua arquitetura em formato de cabe√ßa de boi, o Bumb√≥dromo √© a arena que pulsa durante o Festival. √â ali que Caprichoso e Garantido se enfrentam numa batalha de arte e cultura.
                        </p>
                        <div class="w-full h-48 bg-blue-50 rounded-lg flex items-center justify-center text-center text-gray-500 font-body text-sm p-4">
                            <span>Placeholder para imagem do Bumb√≥dromo.</span>
                        </div>
                    </div>
                    <div class="p-6 bg-white/70 rounded-2xl shadow-lg border border-blue-100">
                        <h3 class="font-title text-2xl text-blue-800 mb-3">Alegorias Vivas</h3>
                        <p class="text-gray-700 leading-relaxed mb-4">
                            As alegorias do Caprichoso s√£o monumentais obras de arte que contam hist√≥rias amaz√¥nicas. Elas se transformam e ganham vida, surpreendendo o p√∫blico com engenhosidade e beleza.
                        </p>
                        <div class="w-full h-48 bg-blue-50 rounded-lg flex items-center justify-center text-center text-gray-500 font-body text-sm p-4">
                            <span>Placeholder para imagem de alegoria do Caprichoso.</span>
                        </div>
                    </div>
                </div>
            </section>

            <section class="max-w-6xl mx-auto px-6 mb-16 md:mb-24 fade-in-section">
                <div class="section-header">
                    <h2 class="font-title text-3xl md:text-4xl lg:text-5xl mb-4 gradient-text-blue-gold">Curiosidades Caprichosas</h2>
                    <p class="text-base md:text-lg max-w-2xl mx-auto text-gray-700">
                        Descubra fatos intrigantes e detalhes fascinantes que tornam o Boi Caprichoso uma lenda viva do Festival de Parintins. Clique nas cartas para revelar os segredos!
                    </p>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <div class="curiosity-card" data-curiosity-id="curiosity1">
                        <h3 class="font-title text-xl text-blue-800 mb-2">A Rivalidade Hist√≥rica</h3>
                        <p class="text-sm text-gray-600 mb-2">O Boi Caprichoso tem uma rivalidade lend√°ria com o Boi Garantido. Essa disputa √©pica impulsiona a criatividade e a paix√£o em cada festival.</p>
                        <p class="curiosity-detail text-base text-gray-800 hidden mt-3">Essa rivalidade n√£o √© apenas sobre o placar, mas sobre a identidade cultural de Parintins, com cada boi representando diferentes filosofias e apegos na cidade.</p>
                    </div>
                    <div class="curiosity-card" data-curiosity-id="curiosity2">
                        <h3 class="font-title text-xl text-blue-800 mb-2">O "Touro Negro"</h3>
                        <p class="text-sm text-gray-600 mb-2">Caprichoso √© carinhosamente conhecido como "Touro Negro" pela sua cor predominante e sua impon√™ncia nas arenas.</p>
                        <p class="curiosity-detail text-base text-gray-800 hidden mt-3">A for√ßa e a m√≠stica do touro negro refletem a garra e a determina√ß√£o da na√ß√£o azul e branca em buscar a vit√≥ria ano ap√≥s ano.</p>
                    </div>
                    <div class="curiosity-card" data-curiosity-id="curiosity3">
                        <h3 class="font-title text-xl text-blue-800 mb-2">Tradi√ß√£o e Inova√ß√£o</h3>
                        <p class="text-sm text-gray-600 mb-2">O Caprichoso equilibra a preserva√ß√£o de suas ra√≠zes folcl√≥ricas com a constante busca por inova√ß√£o em suas apresenta√ß√µes e alegorias.</p>
                        <p class="curiosity-detail text-base text-gray-800 hidden mt-3">Essa dualidade entre tradi√ß√£o e modernidade √© o que mant√©m o boi relevante e surpreendente, atraindo novas gera√ß√µes de torcedores.</p>
                    </div>
                    <div class="curiosity-card" data-curiosity-id="curiosity4">
                        <h3 class="font-title text-xl text-blue-800 mb-2">O Item 19: A Galera</h3>
                        <p class="text-sm text-gray-600 mb-2">A "Galera" (torcida do Caprichoso) √© considerada o item 19 do festival, crucial para a pontua√ß√£o pela sua organiza√ß√£o e paix√£o.</p>
                        <p class="curiosity-detail text-base text-gray-800 hidden mt-3">O canto e a sincronia da galera s√£o espet√°culos √† parte, mostrando a for√ßa e a uni√£o do povo azul e branco, que se entrega de corpo e alma ao boi.</p>
                    </div>
                     <div class="curiosity-card" data-curiosity-id="curiosity5">
                        <h3 class="font-title text-xl text-blue-800 mb-2">O Boi-Bumb√° de Rua</h3>
                        <p class="text-sm text-gray-600 mb-2">Antes do Bumb√≥dromo, o Caprichoso e outros bois come√ßaram suas apresenta√ß√µes nas ruas de Parintins, levando a festa ao povo.</p>
                        <p class="curiosity-detail text-base text-gray-800 hidden mt-3">Essa origem humilde nas ruas √© a base da autenticidade do festival, que cresceu sem perder a ess√™ncia popular e comunit√°ria.</p>
                    </div>
                    <div class="curiosity-card" data-curiosity-id="curiosity6">
                        <h3 class="font-title text-xl text-blue-800 mb-2">Toadas e Lendas</h3>
                        <p class="text-sm text-gray-600 mb-2">As toadas do Caprichoso narram lendas amaz√¥nicas, hist√≥rias de amor, e celebram a cultura ind√≠gena e a natureza.</p>
                        <p class="curiosity-detail text-base text-gray-800 hidden mt-3">Cada toada √© uma obra de arte que transporta o p√∫blico para o universo m√°gico da Amaz√¥nia, com melodias envolventes e letras profundas que tocam a alma.</p>
                    </div>
                </div>
            </section>

             <section class="max-w-6xl mx-auto px-6 mb-16 md:mb-24 fade-in-section">
                <div class="section-header">
                    <h2 class="font-title text-3xl md:text-4xl lg:text-5xl mb-4 gradient-text-blue-gold">Hist√≥ria e Legado</h2>
                    <p class="text-base md:text-lg max-w-2xl mx-auto text-gray-700">
                        Uma jornada atrav√©s do tempo: a funda√ß√£o, as grandes vit√≥rias e a evolu√ß√£o do Boi Caprichoso que o tornaram uma lenda.
                    </p>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-10 items-center">
                    <div class="p-6 bg-white/70 rounded-2xl shadow-lg border border-blue-100">
                        <h3 class="font-title text-2xl text-blue-800 mb-3">Origens e Funda√ß√£o</h3>
                        <p class="text-gray-700 leading-relaxed mb-4">
                            Fundado em 1913, o Caprichoso nasceu da paix√£o de um grupo de amigos que queriam celebrar a cultura do boi-bumb√°. De um pequeno grupo de rua, tornou-se um gigante do folclore.
                        </p>
                    </div>
                    <div class="p-6 bg-white/70 rounded-2xl shadow-lg border border-blue-100">
                        <h3 class="font-title text-2xl text-blue-800 mb-3">Grandes Vit√≥rias</h3>
                        <p class="text-gray-700 leading-relaxed mb-4">
                            Ao longo de sua hist√≥ria, o Boi Caprichoso coleciona t√≠tulos e momentos inesquec√≠veis, com apresenta√ß√µes que ficaram marcadas na mem√≥ria da na√ß√£o azul e branca e do Festival de Parintins.
                        </p>
                    </div>
                </div>
            </section>

            <section class="max-w-3xl mx-auto px-6 mb-16 md:mb-24 text-center fade-in-section p-8 bg-blue-50/70 backdrop-blur-sm rounded-2xl shadow-lg border border-blue-200">
                <h2 class="font-title text-3xl md:text-4xl mb-4 gradient-text-blue-gold">üé∂ Gerador de Versos de Toada üé∂</h2>
                <p class="text-base md:text-lg text-gray-700 mb-8">
                    Sinta a inspira√ß√£o da floresta e da estrela azul! Clique no bot√£o para receber um verso po√©tico, como se fosse cantado no Bumb√≥dromo pelo Caprichoso.
                </p>
                <button id="generateToadaBtn" class="verse-button">
                    Gerar Verso Po√©tico
                </button>
                <div id="toadaDisplay" class="mt-8 p-6 bg-blue-100 rounded-lg text-blue-900 italic text-lg md:text-xl hidden shadow-inner border border-blue-200">
                    <p id="toadaText"></p>
                    <div id="loadingToada" class="mt-4 hidden">
                        <div class="animate-spin rounded-full h-10 w-10 border-b-2 border-blue-800 mx-auto"></div>
                        <p class="text-sm text-blue-700 mt-2">O mestre de toadas est√° compondo...</p>
                    </div>
                </div>
            </section>

            <section class="max-w-6xl mx-auto px-6 mb-16 md:mb-24 fade-in-section">
                <div class="section-header">
                    <h2 class="font-title text-3xl md:text-4xl lg:text-5xl mb-4 gradient-text-blue-gold">Vislumbre o Caprichoso</h2>
                    <p class="text-base md:text-lg max-w-2xl mx-auto text-gray-700">
                        Imagine a impon√™ncia e o esplendor do Boi Caprichoso. Abaixo, um espa√ßo reservado para a sua imagem, que evoca a sua beleza em cada detalhe, adornado com dourado, azul e a estrela da paix√£o.
                    </p>
                </div>
                <div class="flex justify-center items-center h-96 md:h-[500px] bg-white rounded-2xl shadow-xl border border-blue-200 overflow-hidden relative">
                    <img src="https://placehold.co/800x500/00008B/DAA520?text=BOI+CAPRICHOSO" alt="Placeholder da Imagem do Boi Caprichoso" class="w-full h-full object-cover rounded-2xl opacity-80" onerror="this.onerror=null; this.src='https://placehold.co/800x500/DAA520/00008B?text=IMAGEM+INDISPON%C3%8DVEL';">
                    <div class="absolute inset-0 flex items-center justify-center bg-black bg-opacity-30 rounded-2xl">
                        <p class="text-white text-2xl md:text-3xl font-title text-center p-4 leading-tight">
                            "A for√ßa da estrela, o brilho da na√ß√£o Caprichosa!"
                        </p>
                    </div>
                </div>
            </section>

        </main>

        <footer class="text-center py-12 md:py-16 bg-blue-900 text-blue-100 shadow-inner">
            <p class="font-accent text-2xl md:text-3xl mb-4 leading-tight fade-in-section">
                "Caprichoso: Mais que um Boi, uma Paix√£o Eterna."
            </p>
            <p class="text-sm md:text-base text-blue-200 fade-in-section" style="transition-delay: 100ms;">
                Viva o Festival de Parintins! Viva o Boi Caprichoso!
            </p>
        </footer>

    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const canvas = document.getElementById('animated-canvas');
            const ctx = canvas.getContext('2d');
            let particles = [];
            const colors = ['rgba(0, 0, 139, ', 'rgba(218, 165, 32, ']; // DarkBlue and Goldenrod

            function resizeCanvas() {
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
            }

            class Particle {
                constructor() {
                    this.x = Math.random() * canvas.width;
                    this.y = Math.random() * canvas.height;
                    this.size = Math.random() * 1.8 + 0.8; // Slightly larger particles
                    this.speedX = (Math.random() * 0.6 - 0.3) * 0.7; // Moderate horizontal drift
                    this.speedY = (Math.random() * 0.8 + 0.3) * 0.7; // Moderate vertical drift
                    this.alpha = Math.random() * 0.6 + 0.4; // More visible particles
                    this.color = colors[Math.floor(Math.random() * colors.length)];
                    this.twinkle = Math.random() < 0.1; // 10% chance to twinkle
                    this.twinkleFactor = Math.random() * 0.2 + 0.8; // Twinkle intensity
                }
                update() {
                    this.x += this.speedX;
                    this.y += this.speedY;
                    this.alpha -= 0.002; // Fade out slowly

                    if (this.y > canvas.height || this.alpha <= 0) {
                        this.reset();
                    }
                     if (this.x > canvas.width) {
                        this.x = -this.size;
                    } else if (this.x < -this.size) {
                        this.x = canvas.width;
                    }

                    if (this.twinkle) {
                        this.alpha = Math.random() * 0.6 + 0.4; // Randomize alpha for twinkle effect
                    }
                }
                reset() {
                    this.x = Math.random() * canvas.width;
                    this.y = -this.size; // Start from top
                    this.size = Math.random() * 1.8 + 0.8;
                    this.speedX = (Math.random() * 0.6 - 0.3) * 0.7;
                    this.speedY = (Math.random() * 0.8 + 0.3) * 0.7;
                    this.alpha = Math.random() * 0.6 + 0.4;
                    this.color = colors[Math.floor(Math.random() * colors.length)];
                    this.twinkle = Math.random() < 0.1;
                    this.twinkleFactor = Math.random() * 0.2 + 0.8;
                }
                draw() {
                    ctx.fillStyle = this.color + this.alpha + ')';
                    ctx.beginPath();
                    ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                    ctx.fill();
                }
            }

            function initParticles() {
                particles = [];
                let numberOfParticles = (canvas.width * canvas.height) / 10000; // Increased density
                for (let i = 0; i < numberOfParticles; i++) {
                    particles.push(new Particle());
                }
            }

            function animate() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                for (let i = 0; i < particles.length; i++) {
                    particles[i].update();
                    particles[i].draw();
                }
                requestAnimationFrame(animate);
            }

            window.addEventListener('resize', () => {
                resizeCanvas();
                initParticles();
            });

            resizeCanvas();
            initParticles();
            animate();

            // Intersection Observer for fade-in effect
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                    }
                });
            }, { threshold: 0.1 });

            const sections = document.querySelectorAll('.fade-in-section');
            sections.forEach(section => {
                observer.observe(section);
            });

            // Curiosities interactive toggle
            document.querySelectorAll('.curiosity-card').forEach(card => {
                card.addEventListener('click', () => {
                    card.querySelector('.curiosity-detail').classList.toggle('hidden');
                });
            });

            // Gemini API integration for Toada Verse Generator
            const generateToadaBtn = document.getElementById('generateToadaBtn');
            const toadaDisplay = document.getElementById('toadaDisplay');
            const toadaText = document.getElementById('toadaText');
            const loadingToada = document.getElementById('loadingToada');

            generateToadaBtn.addEventListener('click', async () => {
                toadaText.textContent = '';
                toadaDisplay.classList.remove('hidden');
                loadingToada.classList.remove('hidden');
                generateToadaBtn.disabled = true;
                generateToadaBtn.textContent = 'Gerando...';

                try {
                    const prompt = "Gere um verso po√©tico curto e emocionante no estilo de uma toada de boi-bumb√°, celebrando o Boi Caprichoso, suas cores (azul e branco), sua estrela na testa, a floresta amaz√¥nica, a paix√£o de sua na√ß√£o e a energia do festival. O verso deve ser em portugu√™s e ter no m√°ximo 30 palavras. Use linguagem t√≠pica de toada, como 'Oh, meu boi!', '√â Caprichoso!' ou 'Levanta a poeira!'.";
                    let chatHistory = [];
                    chatHistory.push({ role: "user", parts: [{ text: prompt }] });
                    const payload = { contents: chatHistory };
                    const apiKey = "";
                    const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

                    const response = await fetch(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });
                    const result = await response.json();

                    if (result.candidates && result.candidates.length > 0 &&
                        result.candidates[0].content && result.candidates[0].content.parts &&
                        result.candidates[0].content.parts.length > 0) {
                        const generatedVerse = result.candidates[0].content.parts[0].text;
                        toadaText.textContent = generatedVerse;
                    } else {
                        toadaText.textContent = 'O canto do boi est√° distante. Tente novamente mais tarde.';
                    }
                } catch (error) {
                    console.error('Erro ao gerar verso de toada:', error);
                    toadaText.textContent = 'Um brilho da estrela se perdeu. Tente novamente.';
                } finally {
                    loadingToada.classList.add('hidden');
                    generateToadaBtn.disabled = false;
                    generateToadaBtn.textContent = 'Gerar Verso Po√©tico';
                }
            });
        });
    </script>
</body>
</html>
